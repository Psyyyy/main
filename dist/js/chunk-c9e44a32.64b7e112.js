(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c9e44a32"],{"0955":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABdCAMAAADE1lvtAAAAhFBMVEVHcEz5+/v19vb6+/v4+fn09vb19/fy9PT2+Pjz9fXy9PT2+vr/BAD09vb1+Pj4+fn/PgL6+vr/tKT/moT/kHf/qpf/a0j/yb389vX/oo7/hWn/KAD88O3/FAD/2tL/WjL/YDv/MgD/fmH96eX/Uij/wbP/08r/HAD/SBX/493/lX3/d1jPmV2mAAAACnRSTlMAJG3/JG1tkkmSgJuFJQAAAcVJREFUWMPt2dlyozAQBVAybaykuRgQOxizec///988TArHrtQQ1DzqfsCpVkMjFXIcZ7N1PxbH3ThP2So2iXpiNorZ3y2M/8p8MEe0NAEzs3p/KIp3ZKL4T9Uo9oyUwPvOGCsUfFuUuULegxEoFDCrrVh5MEZK9KWQx6z+mCrE7E+eck0Vn3nnTdW4hgo9z5SpEvlrKERBMI2mQJniWcUqVrGKVazyvxQrKOcQ4V6sdEj6SqyESKtWrNTQabtCLWWaiZUjkkTelwFZF4uVFBdo+fsC4CBWogYo5BPQoV9hjgYgFyvFBTiKlRKYK2ZeiXrce1wLmaKB/QmoZEqIgWgASomigRtRlAGxuRKFGIiIigxoz7ku4yTWh6VKCtyIiA5pg0fa/SKl6FHRWGY1ADQAmkrrsnudzhklBpIjgDCL8z3pEECY6DxcpIwNgPpTTwvIPy8AgHGBcrriEr+28pwm99vvu3toAaQ/P7lfKzGu9dwUzilFhq6a/cbNKR2OJ+Au2+1j1HmDVnhmqJHUs3v8rNIDuI7S88uYZGVBUsWeDq1iFauspOyEyo6V47KwGI/ZdTZmlwqvFwxi5t+f+Ld3Wd4c5y9lrHdIQgBAbQAAAABJRU5ErkJggg=="},"368d":function(t,e,r){t.exports=function(){"use strict";var t="@@InfiniteScroll",e=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},r=document.defaultView.getComputedStyle,a=function(t){return t===window?e(window):t.getBoundingClientRect().top+e(window)},s=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},i=function(){if(!this.binded){this.binded=!0;var t,e,a,s,i,o,c,l,u=this,d=u.el,m=d.getAttribute("infinite-scroll-throttle-delay"),p=200;m&&(p=Number(u.vm[m]||m),(isNaN(p)||p<0)&&(p=200)),u.throttleDelay=p,u.scrollEventTarget=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var a=r(e).overflowY;if("scroll"===a||"auto"===a)return e;e=e.parentNode}return window}(d),u.scrollListener=(t=n.bind(u),e=u.throttleDelay,l=function(){t.apply(o,c),s=a},function(){if(o=this,c=arguments,a=Date.now(),i&&(clearTimeout(i),i=null),s){var t=e-(a-s);t<0?l():i=setTimeout((function(){l()}),t)}else l()}),u.scrollEventTarget.addEventListener("scroll",u.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){u.scrollEventTarget.removeEventListener("scroll",u.scrollListener)}));var f=d.getAttribute("infinite-scroll-disabled"),v=!1;f&&(this.vm.$watch(f,(function(t){u.disabled=t,!t&&u.immediateCheck&&n.call(u)})),v=Boolean(u.vm[f])),u.disabled=v;var g=d.getAttribute("infinite-scroll-distance"),h=0;g&&(h=Number(u.vm[g]||g),isNaN(h)&&(h=0)),u.distance=h;var b=d.getAttribute("infinite-scroll-immediate-check"),C=!0;b&&(C=Boolean(u.vm[b])),u.immediateCheck=C,C&&n.call(u);var x=d.getAttribute("infinite-scroll-listen-for-event");x&&u.vm.$on(x,(function(){n.call(u)}))}},n=function(t){var r=this.scrollEventTarget,s=this.el,i=this.distance;if(!0===t||!this.disabled){var n=e(r),o=n+function(t){return t===window?document.documentElement.clientHeight:t.clientHeight}(r);(r===s?r.scrollHeight-o<=i:o+i>=a(s)-a(r)+s.offsetHeight+n)&&this.expression&&this.expression()}},o={bind:function(e,r,a){e[t]={el:e,vm:a.context,expression:r.value};var n=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){s(e)&&i.call(e[t],n),e[t].bindTryCount=0,function r(){e[t].bindTryCount>10||(e[t].bindTryCount++,s(e)?i.call(e[t],n):setTimeout(r,50))}()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},c=function(t){t.directive("InfiniteScroll",o)};return window.Vue&&(window.infiniteScroll=o,Vue.use(c)),o.install=c,o}()},7034:function(t,e,r){"use strict";r("9054c")},"9054c":function(t,e,r){},9685:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return i})),r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return o})),r.d(e,"a",(function(){return c}));var a=r("4de3");function s(t){return Object(a.a)({url:"/stage/all/".concat(t),method:"get"})}function i(t){return Object(a.a)({url:"/stage/".concat(t),method:"get"})}function n(t){return Object(a.a)({url:"/stage/new",method:"post",data:t})}function o(t){return Object(a.a)({url:"/stage/update",method:"put",data:t})}function c(t){return Object(a.a)({url:"/stage/delete",method:"delete",data:t})}},aeb7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABdCAMAAADE1lvtAAAAbFBMVEVHcEzy9vb19vbz9PT1+Pj09vb09fXy9PT4+vrz9fX2+fny9PQEqOv6+/v3+vr2+Pj5+/u36PgDwvE8zfPU8fqv5/jy+fwEreyS4PYDufDE7PmA2vYEq+xl1fWi5PcDsO1N0PTg9fsoyvIDs+7UcdYGAAAAC3RSTlMAkm2SSW1tkiSSSfTuYjkAAAGvSURBVFjD7dnLjoMgFAZgO1OrHQUFxbtW7fu/43BTJemiHLqYTPhXYuMXPB5MS4OAJwYkMBOHUZRYJ/oyFQAhmdsZCaMkw7llsGBCYyoZsg6WswljZyXjzs1dQXw2d3cFZZyJnRXOJN+xsyKYKHZWdgakoE3ZGKiS4IP5ASqiW5JMRvQfUFHMvqagCsqyTyjnaXnFK17xile88jeVvCKEsYmHdQt8LiQ98qATdld42u4TSjoQuFK3ba2ZegErBT8q13Q/hisIjarG2E3BrRx0bgoq5GAStzeutG3pzLC9MmqlXIe9hxZrhcoBIfXp0Ze2SimvHpanbh2Qsqji0l53cV51PR0sFNqRZta1IKrGo/q8rCArIJ3RrHq4V9fnEGXOEdvWwspgq/HZHA/8GFspA9U3gUi7n6TYorp9w4w6kuKhmdG664wfaI1yBuyiIFS+bN53FdLoZ1y/WuLvKo2oM+smtarqCqqcA62uodAKqJTr/mZ49O+9pToq0psnK9YX/OzIsP/m4RWveMUr/0lJHBWxd3iNtm1NYDhyDYIL8G+FYxfzInabr/fIJXc+k1/oWT+jsNkeTAAAAABJRU5ErkJggg=="},bda3:function(t,e,r){"use strict";r.r(e);var a=r("9139"),s=(r("9856"),r("0a9c"),r("6c00"),r("6ed2")),i=r.n(s),n=r("2eb8"),o=r("99dd"),c=r("bd40"),l=r("d3ae"),u=r("9685"),d=r("3902"),m=r.n(d),p=r("0481"),f=r("368d"),v=r.n(f),g={name:"Project",components:{HeaderNotice:r("f653").a},directives:{infiniteScroll:v.a},data:function(){return{labelCol:{span:5},wrapperCol:{span:14},projectList:[],menuItems:[{label:"个人中心",name:"Profile",icon:"user"},{label:"待办事项",name:"Todo",icon:"check-square"},{label:"退出登录",name:"Login",icon:"log-out",click:"logOut"}],todos:[{id:"1",title:"白日依山尽，黄河入海流。",tag:"前端",tagColor:"success",percent:60,avatar:"A",done:!1},{id:"2",title:"故人西辞黄鹤楼，烟花三月下扬州。",tag:"后端",tagColor:"danger",percent:60,avatar:"B",done:!1},{id:"3",title:"两岸猿声啼不住，轻舟已过万重山。",tag:"UI/UX",tagColor:"primary",percent:80,avatar:"C",done:!0},{id:"4",title:"红颜未老恩先断，斜倚薰笼坐到明。",tag:"界面设计",tagColor:"info",percent:60,avatar:"D",done:!1},{id:"5",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:20,avatar:"E",done:!1},{id:"6",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:30,avatar:"E",done:!1},{id:"7",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:20,avatar:"E",done:!1}],more_todos:[{id:"1",title:"白日依山尽，黄河入海流。",tag:"前端",tagColor:"success",percent:60,avatar:"A",done:!1},{id:"2",title:"故人西辞黄鹤楼，烟花三月下扬州。",tag:"后端",tagColor:"danger",percent:60,avatar:"B",done:!1},{id:"3",title:"两岸猿声啼不住，轻舟已过万重山。",tag:"UI/UX",tagColor:"primary",percent:80,avatar:"C",done:!0},{id:"4",title:"红颜未老恩先断，斜倚薰笼坐到明。",tag:"界面设计",tagColor:"info",percent:60,avatar:"D",done:!1},{id:"5",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:20,avatar:"E",done:!1},{id:"6",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:30,avatar:"E",done:!1},{id:"7",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:20,avatar:"E",done:!1},{id:"8",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:30,avatar:"E",done:!1},{id:"9",title:"嫦娥应悔偷灵药，碧海青天夜夜心。",tag:"JAVASCRIPT",tagColor:"warning",percent:20,avatar:"E",done:!1}],team:[{name:"amy",percent:40,state:"primary"},{name:"tom",percent:20,state:"danger"},{name:"lucy",percent:80,state:"success"},{name:"jack",percent:10,state:"danger"},{name:"nancy",percent:30,state:"primary"},{name:"bob",percent:20,state:"success"},{name:"lily",percent:14,state:"danger"}],newProject:{title:"",content:"",createTime:"",founder:""},projectRules:{title:[{required:!0,message:"请输入项目名称",trigger:"blur"}],content:[{required:!0,message:"请输入项目内容",trigger:"blur"}]},isFullScreen:!1,showProjectList:!1,showProject:"图片视图",loading:!1,busy:!1,isAddProjectVisible:!1,isEditVisible:!1,currEditProject:{id:"",title:"",content:""}}},computed:{info:function(){return this.$store.state.user.info},isHeaderFixed:function(){return this.$store.state.isHeaderFixed},todoList:function(){return this.$store.state.todo.todoList}},created:function(){this.getProject(),this.getTask(),this.getNoticeList()},mounted:function(){var t=this;m.a.isEnabled&&m.a.on("change",(function(){t.isFullScreen=m.a.isFullscreen})),window.onscroll=i()((function(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>10?t.$store.commit("SET_HEADER_STATUS",!0):t.$store.commit("SET_HEADER_STATUS",!1)}),250)},watch:{"$route.name":{handler:function(t){this.activeKey=t},immediate:!0}},methods:{percentCalc:function(t,e){return 100*(t/e)},viewAll:function(){this.$router.push({name:"Todo"})},getProject:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.sessionStorage.getItem("currUserID"),e.next=3,Object(n.b)(r);case 3:return a=e.sent,s=a.data,t.projectList=s,e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},logOut:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/logout");case 2:e.sent&&(t.$message.success("成功退出"),t.$router.replace({name:"Login"}));case 4:case"end":return e.stop()}}),e)})))()},onClickMenuItem:function(t,e){e?this[e]():Object(p.e)(t)?window.open(t,"_blank","noopener"):this.$router.push({name:t})},onScreenfull:function(){m.a.isEnabled&&m.a.toggle()},editProject:function(t){var e=this;"add"===t?this.$refs.addFormRef.validate(function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(r,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",e.$message.error("存在错误字段，无法创建"));case 2:return e.newProject.founder=e.info.id,e.newProject.createTime=Date.parse(new Date)/1e3,t.next=6,Object(n.c)(e.newProject);case 6:if(200===t.sent.meta.status){t.next=9;break}return t.abrupt("return",e.$message.error("创建项目失败"));case 9:return e.$message.success("创建项目成功！"),e.$refs.addFormRef.resetFields(),e.isAddProjectVisible=!1,e.getProject(),t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()):this.$refs.addFormRef.validate(function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(r,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",e.$message.error("存在错误字段，无法提交编辑"));case 2:return t.next=4,Object(n.d)(e.currEditProject);case 4:if(200===t.sent.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("编辑项目失败"));case 7:return e.$message.success("编辑项目成功！"),e.$refs.addFormRef.resetFields(),e.isEditVisible=!1,e.getProject(),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},closeProjectModal:function(){this.$refs.addFormRef.resetFields(),this.isAddProjectVisible=!1},changeProjectList:function(t){t?(this.showProject="列表视图",this.showProjectList=t):(this.showProject="图片视图",this.showProjectList=t)},openEditModal:function(t,e,r){this.isEditVisible=!0,this.currEditProject.id=t,this.currEditProject.title=e,this.currEditProject.content=r},openDeleteModal:function(t){var e=this.$createElement,r=this;this.$confirm({title:e("p",["此操作将删除",e("span",{class:"warning"},["「",t,"」"]),"项目"]),content:"您确定要删除该项目吗？",onOk:function(){return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.a)({title:t});case 2:if(200===e.sent.meta.status){e.next=5;break}return e.abrupt("return",r.$message.error("删除项目失败"));case 5:return r.$message.success("删除项目成功！"),r.getProject(),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))()}})},handleInfiniteOnLoad:function(){var t=this.todos;this.loading=!0,t.length>6&&t.length<8&&(this.$message.warning("正在加载"),this.busy=!0,this.loading=!1),this.todos=this.more_todos,this.loading=!1},enterProject:function(t,e){var r=this;return Object(a.a)(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.a)(t);case 2:s=a.sent,i=s.data,r.$store.commit("project/SET_CURR_PROJECT_NAME",e),r.$store.commit("project/SET_CURR_PROJECT_ID",t),r.$store.commit("team/SET_CURR_PROJECT_MEMBER_LIST",i),window.localStorage.setItem("currProject",e),window.localStorage.setItem("currProjectID",t),r.$router.push("Ecommerce");case 10:case"end":return a.stop()}}),a)})))()},getStageList:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currProjectID,e.next=3,Object(u.c)(r);case 3:return a=e.sent,s=a.data,t.$store.commit("stage/SET_STAGE_LIST",s.stagelist),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},enterFolder:function(){},getTask:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.sessionStorage.getItem("currUserID"),e.next=3,Object(c.k)(r);case 3:return a=e.sent,s=a.data,t.$store.commit("todo/SET_TODO_LIST",s),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},getNoticeList:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var r,a,s,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.sessionStorage.getItem("currUserID"),e.next=3,Object(l.a)(r);case 3:for(a=e.sent,s=a.data,t.$store.commit("notice/SET_NOTICE_LIST",s),i=!1,n=0;n<s.length;n+=1)0===s[n].is_read&&(i=!0);return t.$store.commit("notice/SET_NOTICE_STATUS",i),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})))()}}},h=(r("7034"),r("2ca5")),b=Object(h.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"user-layout"},[a("div",{staticClass:"app-header",class:[{"fixed-top":t.isHeaderFixed}]},[a("img",{staticClass:"w-10",attrs:{src:r("8f21"),alt:"LOGO"}}),a("span",{staticClass:"ml-3 text-3xl font-bold"},[t._v("Venus")]),a("div",{staticClass:"setting"},[a("div",{staticClass:"flex items-center"},[a("feather",{staticClass:"mx-4",attrs:{type:t.isFullScreen?"minimize":"maximize"},on:{click:t.onScreenfull}}),a("header-notice")],1),a("a-dropdown",{staticClass:"ml-4",attrs:{trigger:["click"]},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",t._l(t.menuItems,(function(e,r){var s=e.label,i=e.name,n=e.icon,o=e.click;return a("a-menu-item",{key:r,on:{click:function(e){return t.onClickMenuItem(i,o)}}},[a("div",{staticClass:"flex items-center justify-center text-gray-700",attrs:{tag:"div"}},[a("feather",{attrs:{size:"16",type:n}}),a("span",{staticClass:"ml-2"},[t._v(t._s(s))])],1)])})),1)]},proxy:!0}])},[a("div",{staticClass:"h-full flex items-center"},[a("div",{staticClass:"flex items-center text-base"},[a("div",{staticClass:"mx-4 text-right"},[a("div",{staticClass:"text-lg"},[t._v(t._s(t.info.name||"暂无昵称"))]),a("div",{staticClass:"text-sm"},[t._v(t._s(t.info.role))])]),a("div",[a("a-avatar",{staticClass:"flex items-center justify-center",attrs:{size:"large",icon:t.info.avatar?"":"user",src:t.info.avatar}})],1)])])])],1)]),a("div",{staticClass:"select-board px-2"},[a("section",{staticClass:"col w-2/3"},[a("div",{staticClass:" mb-3 px-1 "},[a("div",{staticClass:"dashboard-card p-0"},[a("div",{staticClass:"mb-2 px-4 py-3 flex items-center ",staticStyle:{"border-bottom":"1px solid #eee"}},[a("h3",{staticClass:"dashboard-card-title"},[t._v(" 我的项目（ "+t._s(t.projectList.length)+" ） ")]),a("div",{staticClass:"ml-auto flex items-center"},[a("a-dropdown",{staticClass:"mr-3",scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",[a("a-menu-item",[t._v(" 所有项目 ")]),a("a-menu-item",[t._v(" 已完成 ")]),a("a-menu-item",[t._v(" 进行中 ")]),a("a-menu-item",[t._v(" 已丢弃 ")])],1)]},proxy:!0}])},[a("div",{staticClass:"flex items-center cursor-pointer"},[a("feather",{staticClass:"mr-1",attrs:{size:"18",type:"check-circle"}}),t._v(" 所有项目 "),a("feather",{staticClass:"ml-1 text-gray-500",attrs:{size:"18",type:"chevron-down"}})],1)]),a("a-dropdown",{staticClass:"mr-3",scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",[a("a-menu-item",{key:"1",on:{click:function(e){return t.changeProjectList(!0)}}},[t._v(" 列表视图 ")]),a("a-menu-item",{key:"2",on:{click:function(e){return t.changeProjectList(!1)}}},[t._v(" 图片视图 ")])],1)]},proxy:!0}])},[a("div",{staticClass:"flex items-center cursor-pointer"},[a("feather",{staticClass:"mr-1",attrs:{size:"18",type:"list"}}),t._v(" "+t._s(t.showProject)+" "),a("feather",{staticClass:"ml-1 text-gray-500",attrs:{size:"18",type:"chevron-down"}})],1)]),a("div",[a("a-button",{staticClass:"w-full flex justify-center items-center",attrs:{size:"large",type:"primary"},on:{click:function(e){t.isAddProjectVisible=!0}}},[a("feather",{attrs:{size:"15",type:"plus"}}),t._v(" 创建新项目 ")],1)],1)],1)]),t.showProjectList?a("div",{staticClass:"overflow-auto",staticStyle:{height:"450px"}},[a("ul",t._l(t.projectList,(function(e,r){var s=e.pro_id,i=e.pro_title,n=e.pro_content,o=e.pro_create_time,c=e.finish_task_sum,l=e.all_task_sum;return a("li",{key:s,staticClass:"px-5 py-4 flex items-center project-list-item",on:{click:function(e){return t.enterProject(s,i)}}},[a("a-checkbox",{model:{value:t.projectList[r].pro_done,callback:function(e){t.$set(t.projectList[r],"pro_done",e)},expression:"projectList[i].pro_done"}}),a("div",{staticClass:"mx-4 truncate text-gray-600"},[t._v(" "+t._s(i)+" "),a("span",{staticClass:"ml-4 text-base text-gray-400"},[t._v(t._s(n))])]),a("div",{staticClass:"flex-1 text-right"},[a("span",{staticClass:"ml-4 text-gray-400"},[t._v("项目进度：")]),a("a-progress",{staticClass:"w-40  mr-10",attrs:{"stroke-width":4,"stroke-color":"#6485ff",percent:t.percentCalc(c,l)}}),t._v(" "),a("span",{staticClass:"flex-1 mr-2 text-right text-gray-400"},[t._v(t._s(t._f("dateFormat")(o)))])],1),a("a-dropdown",{staticClass:"ml-auto",scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",[a("a-menu-item",{staticClass:"flex items-center",on:{click:function(e){return t.openEditModal(s,i,n)}}},[a("feather",{staticClass:"mr-2 cursor-pointer",attrs:{size:"16",type:"edit"}}),t._v(" 编辑 ")],1),a("a-menu-item",{staticClass:"flex items-center",on:{click:function(e){return t.openDeleteModal(i)}}},[a("feather",{staticClass:"mr-2 cursor-pointer",attrs:{size:"16",type:"trash"}}),t._v(" 删除 ")],1)],1)]},proxy:!0}],null,!0)},[a("div",{staticClass:"flex items-center text-base text-gray-500 cursor-pointer"},[a("feather",{staticClass:"cursor-pointer",attrs:{size:"20",type:"more-vertical"}})],1)])],1)})),0)]):t._e(),t.showProjectList?t._e():a("div",{staticClass:"overflow-auto p-2",staticStyle:{height:"450px"}},[a("a-list",{attrs:{grid:{xs:4},"data-source":t.projectList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a-card",{key:e.pro_id,staticClass:"card-focus",attrs:{"body-style":{padding:15}},on:{click:function(r){return t.enterProject(e.pro_id,e.pro_title)}}},[a("a-avatar",{staticClass:"flex items-center justify-center mx-auto mt-0 py-2 max-w-full",attrs:{shape:"square",size:200,icon:t.info.avatar?"":"user",src:t.info.avatar}}),a("a-divider",{staticClass:"m-0"}),a("div",[a("span",{staticClass:"text-xl"},[t._v(t._s(e.pro_title))]),a("div",{staticStyle:{color:"#C7C7C7"}},[a("div",{staticClass:"project-content"},[t._v(" "+t._s(e.pro_content)+" ")]),a("a-progress",{attrs:{"stroke-width":4,"stroke-color":"#6485ff","show-info":!1,percent:t.percentCalc(e.finish_task_sum,e.all_task_sum)}}),a("a-avatar",{staticClass:"items-center justify-center",attrs:{size:"large",icon:t.info.avatar?"":"user",src:t.info.avatar}}),a("a-dropdown",{staticClass:"float-right mt-3",scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",[a("a-menu-item",{staticClass:"flex items-center",on:{click:function(r){return t.openEditModal(e.pro_id,e.pro_title,e.pro_content)}}},[a("feather",{staticClass:"mr-2 cursor-pointer",attrs:{size:"16",type:"edit"}}),t._v(" 编辑 ")],1),a("a-menu-item",{staticClass:"flex items-center",on:{click:function(r){return t.openDeleteModal(e.pro_title)}}},[a("feather",{staticClass:"mr-2 cursor-pointer",attrs:{size:"16",type:"trash"}}),t._v(" 删除 ")],1)],1)]},proxy:!0}],null,!0)},[a("div",{staticClass:"flex items-center text-base text-gray-500 cursor-pointer"},[a("feather",{staticClass:"cursor-pointer",attrs:{size:"20",type:"more-vertical"}})],1)]),a("span",{staticClass:"float-right mt-3"},[t._v(t._s(t._f("dateFormat")(e.pro_create_time)))])],1)])],1)],1)}}],null,!1,3715283481)})],1)])]),a("div",{staticClass:" mb-3 px-1"},[a("div",{staticClass:"dashboard-card p-0 "},[t._m(0),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"px-4 demo-infinite-container overflow-auto",staticStyle:{height:"500px"},attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":5}},[a("a-list",{attrs:{"data-source":t.todos},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{staticStyle:{height:"100px"}},[a("a-list-item-meta",{attrs:{description:e.title}},[a("a",{attrs:{slot:"title",href:e.href},slot:"title"},[t._v(t._s(e.title))]),a("a-avatar",{attrs:{slot:"avatar",src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"},slot:"avatar"})],1),a("div",[t._v("任务链接（打开任务窗口）")])],1)}}])},[t.loading&&!t.busy?a("div",{staticClass:"demo-loading-container"},[a("a-spin")],1):t._e()])],1)])])]),a("section",{staticClass:"col w-1/3"},[a("div",{staticClass:"mb-3 px-1 "},[a("div",{staticClass:"dashboard-card p-0"},[a("div",{staticClass:"flex mb-2 px-3 py-1 flex items-center",staticStyle:{"border-bottom":"1px solid #eee"}},[a("h3",{staticClass:" dashboard-card-title"},[t._v(" 团队进度"),a("span",[t._v("（ "+t._s(t.team.length)+" ）")])])]),a("div",{staticClass:"team"},t._l(t.team,(function(e,r){var s=e.name,i=e.percent,n=e.state;return a("div",{key:r,staticClass:"my-auto team-progress"},[a("a-progress",{attrs:{width:90,height:90,"stroke-color":"rgba(var(--"+n+"), 1)",type:"circle",percent:i},scopedSlots:t._u([{key:"format",fn:function(e){return[a("a-avatar",{key:e,attrs:{slot:"avatar",size:50,src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"},slot:"avatar"}),a("div",{staticClass:"mask"},[a("h3",[t._v(t._s(s))])])]}}],null,!0)})],1)})),0)])]),a("div",{staticClass:"mb-3 px-1 "},[a("div",{staticClass:"dashboard-card p-0"},[a("div",{staticClass:"mb-2 px-3 py-4 flex items-center",staticStyle:{"border-bottom":"1px solid #eee"}},[a("h3",{staticClass:"dashboard-card-title"},[t._v(" 我的任务（ "+t._s(t.todoList.length)+" ） ")]),a("div",{staticClass:"ml-auto flex items-center"},[a("a-button",{on:{click:function(e){return e.stopPropagation(),t.viewAll()}}},[t._v("查看所有任务")])],1)]),a("div",{staticClass:"overflow-auto",staticStyle:{height:"380px"}},[a("ul",t._l(t.todoList,(function(e){var r=e.id,s=e.t_title,i=e.t_rank,n=e.end_time,o=e.t_content;return a("li",{key:r,staticClass:"px-5 py-4 flex items-center hover:bg-gray-100 transition cursor-pointer"},[a("div",{staticClass:"mx-4 truncate text-gray-600"},[t._v(" "+t._s(s)+" "),a("span",{staticClass:"ml-4 text-gray-400"},[t._v(" "+t._s(o)+" ")])]),a("div",{staticClass:"ml-auto flex items-center text-sm rounded-lg text-gray-400",style:"padding: .1rem 1rem;"},[t._v(" "+t._s(t._f("dateFormat")(n))+" ")]),a("a-tag",{staticClass:"ml-3",attrs:{color:3===i?"#ff5b5c":2===i?"#fdac41":"#28c175"}},[a("span",{staticClass:"text-sm"},[t._v(" "+t._s(3===i?"非常紧急":2===i?"紧急":"普通"))])]),a("a-dropdown",[a("div",{staticClass:"flex items-center text-base text-gray-500 cursor-pointer"},[a("feather",{staticClass:"cursor-pointer",attrs:{size:"20",type:"more-vertical"}})],1)])],1)})),0)])])]),a("div",{staticClass:"mb-3 px-1 "},[a("div",{staticClass:"dashboard-card p-0"},[a("div",{staticClass:"flex mb-2 px-3 py-2 flex items-center",staticStyle:{"border-bottom":"1px solid #eee"}},[a("h3",{staticClass:" dashboard-card-title"},[t._v("文档动态")]),a("div",{staticClass:"mr-4 ml-auto flex a items-center cursor-pointer",on:{click:t.enterFolder}},[a("feather",{staticClass:"mr-1",attrs:{size:"18",type:"folder"}}),t._v(" 打开文库 ")],1)]),a("div",{staticClass:"overflow-auto",staticStyle:{height:"350px"}},[a("a-timeline",{staticClass:"timeline mt-3"},t._l([{action:"小明审核了您的文章投稿",file:"网页设计大赛开幕式流程.pdf",time:"5分钟前",icon:r("0955")},{action:"提交了一份 PDF 文件",file:"毕业设计论文终稿.pdf",time:"2小时前",icon:r("0955")},{action:"上传了网页设计原型图",file:"Venus 系统设计图.psd",time:"1天前",icon:r("aeb7")},{action:"提交了一份 PDF 文件",file:"毕业设计论文终稿.pdf",time:"2小时前",icon:r("0955")},{action:"提交了一份 PDF 文件",file:"毕业设计论文终稿.pdf",time:"2小时前",icon:r("0955")}],(function(e,r){var s=e.action,i=e.file,n=e.time,o=e.icon;return a("a-timeline-item",{key:r,scopedSlots:t._u([{key:"dot",fn:function(){return[a("div",{staticClass:"relative w-4 h-4 rounded-full bg-white",staticStyle:{"box-shadow":"1px 2px 6px 0 rgba(25,42,70,.3)"}},[a("div",{staticClass:"absolute w-2 h-2 rounded-full bg-primary",staticStyle:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})])]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(s))]),a("p",{staticClass:"mb-4 text-xs text-gray-500"},[t._v(t._s(n))]),a("div",{staticClass:"flex items-center text-sm text-black cursor-pointer hover:primary transition"},[a("img",{staticClass:"w-6 mr-3",attrs:{alt:"pdf",src:o}}),a("span",[t._v(t._s(i))])])])})),1)],1)])])]),a("a-modal",{attrs:{visible:t.isAddProjectVisible,title:"创建项目"},on:{"update:visible":function(e){t.isAddProjectVisible=e},ok:function(e){return t.editProject("add")},cancel:t.closeProjectModal}},[a("div",[a("a-form-model",{ref:"addFormRef",staticClass:"pl-2",attrs:{rules:t.projectRules,layout:"horizontal",model:t.newProject,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-model-item",{attrs:{label:"项目名称",prop:"title",type:"name"}},[a("a-input",{model:{value:t.newProject.title,callback:function(e){t.$set(t.newProject,"title",e)},expression:"newProject.title"}})],1),a("a-form-model-item",{attrs:{label:"项目简介",prop:"content"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.newProject.content,callback:function(e){t.$set(t.newProject,"content",e)},expression:"newProject.content"}})],1)],1)],1)]),a("a-modal",{attrs:{visible:t.isEditVisible,title:"编辑项目信息"},on:{"update:visible":function(e){t.isEditVisible=e},ok:function(e){return t.editProject("update")},cancel:function(e){t.isEditVisible=!1}}},[a("div",[a("a-form-model",{ref:"addFormRef",staticClass:"pl-2",attrs:{rules:t.projectRules,layout:"horizontal",model:t.currEditProject,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-model-item",{attrs:{label:"项目名称",prop:"title",type:"name"}},[a("a-input",{model:{value:t.currEditProject.title,callback:function(e){t.$set(t.currEditProject,"title",e)},expression:"currEditProject.title"}})],1),a("a-form-model-item",{attrs:{label:"项目简介",prop:"content"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.currEditProject.content,callback:function(e){t.$set(t.currEditProject,"content",e)},expression:"currEditProject.content"}})],1)],1)],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 px-4 py-4 flex items-center",staticStyle:{"border-bottom":"1px solid #eee"}},[e("h3",{staticClass:"dashboard-card-title"},[this._v("项目动态")])])}],!1,null,"72b44a7a",null);e.default=b.exports}}]);