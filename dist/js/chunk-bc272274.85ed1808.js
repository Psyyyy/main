(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bc272274"],{"127c":function(e,t,s){},"24b7":function(e,t,s){"use strict";s("127c")},"3f4c":function(e,t,s){},"4c49":function(e,t,s){},"79ed":function(e,t,s){"use strict";s("eef9")},"7c00":function(e,t,s){"use strict";s("4c49")},d60f:function(e,t,s){"use strict";s.r(t);s("de8b");var i={name:"FileBar",data:function(){return{filters:[{id:"1",label:"所有文件",icon:"menu"},{id:"2",label:"文档",icon:"file-text"},{id:"3",label:"图片",icon:"image"},{id:"4",label:"其他",icon:"archive"}],tags:[{id:"5",label:"项目",color:"primary"},{id:"6",label:"需求",color:"success"},{id:"7",label:"迭代",color:"warning"},{id:"8",label:"缺陷",color:"danger"}],headers:{authorization:"authorization-text"}}},computed:{selectedKeys:function(){return this.$store.state.file.barKey},isSideMenuOpened:function(){return this.$store.state.isSideMenuOpened}},methods:{onClickMenuItem:function(e){var t=e.key;this.$store.commit("file/SET_FILE_BAR_KEY",t)},handleChange:function(e){e.file.status,"done"===e.file.status?this.$message.success("成功上传 ".concat(e.file.name)):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传失败"))}}},a=(s("7c00"),s("2ca5")),l=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"px-6 py-6"},[s("a-upload",{attrs:{multiple:"",name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:e.headers},on:{change:e.handleChange}},[s("div",{staticStyle:{width:"230px"}},[s("a-button",{staticClass:" flex justify-center items-center",attrs:{size:"large",block:"",type:"primary"}},[s("feather",{staticClass:"mr-1",attrs:{size:"20",type:"plus"}}),e._v(" 上传文件 ")],1)],1)])],1),s("perfect-scrollbar",{staticClass:"select-none overflow-hidden",staticStyle:{height:"calc(100% - 88px)"},attrs:{options:{suppressScrollX:!0,maxScrollbarLength:160,wheelSpeed:.6}}},[s("a-menu",{staticClass:"file-bar-menu",attrs:{mode:"inline","selected-keys":e.selectedKeys},on:{click:e.onClickMenuItem}},[s("a-menu-item",{staticClass:"m-0 bg-white cursor-default",attrs:{disabled:""}},[e._v(" 文件类型 ")]),e._l(e.filters,(function(t){var i=t.id,a=t.label,l=t.icon;return s("a-menu-item",{key:i},[s("div",{staticClass:"flex items-center"},[s("feather",{staticClass:"side-menu-icon anticon",attrs:{size:"20",type:l}}),s("span",{staticStyle:{"margin-top":"1px"}},[e._v(e._s(a))])],1)])})),s("a-menu-item",{staticClass:"mt-6 mb-0 bg-white cursor-default",attrs:{disabled:""}},[e._v(" 文件来源 ")]),e._l(e.tags,(function(t){var i=t.id,a=t.label,l=t.color;return s("a-menu-item",{key:i},[s("div",{staticClass:"flex justify-between items-center"},[s("span",{staticStyle:{"margin-top":"1px"}},[e._v(e._s(a))]),s("div",{staticClass:"w-2 h-2 mr-2 rounded-full",class:"bg-"+l})])])}))],2)],1)],1)}),[],!1,null,"622c1f46",null).exports,r=s("b8fb"),c=s.n(r),n={name:"FileDrawer",computed:{isFileDrawerOpened:function(){return this.$store.state.file.isFileDrawerOpened}},data:function(){return{currFile:{}}},watch:{"$store.state.file.currEditFile":{handler:function(e){this.currFile=c()(e)},immediate:!0}},methods:{onCloseDrawer:function(){this.$store.commit("file/SET_FILE_DRAWER_STATUS",!1)}}},o=(s("24b7"),Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-drawer",{staticClass:"relative",attrs:{width:"400",closable:!1,mask:!1,"get-container":!1,"wrap-style":{position:"absolute"},visible:e.isFileDrawerOpened},scopedSlots:e._u([{key:"title",fn:function(){return[s("div",{staticClass:"flex items-center"},[e.currFile.title?s("div",{staticClass:"px-6 py-2 flex items-center primary hover:text-white bg-primary-light hover:bg-primary transition rounded-md text-sm cursor-pointer",on:{click:function(t){return e.$message.success("已完成一项任务，太棒了！")}}},[s("feather",{staticClass:"mr-1",attrs:{size:"18",type:"check"}}),e._v(" 设为已完成 ")],1):e._e(),s("div",{staticClass:"ml-auto flex items-center text-gray-600"},[s("feather",{staticClass:"ml-2 cursor-pointer",attrs:{size:"18",type:"link"}}),s("a-dropdown",{attrs:{trigger:["click"]},scopedSlots:e._u([{key:"overlay",fn:function(){return[s("a-menu",e._l([{text:"添加到其他项目"},{text:"复制为新任务"},{text:"丢弃该任务"}],(function(t,i){var a=t.text;return s("a-menu-item",{key:i,staticClass:"text-center text-sm text-gray-700",on:{click:function(t){return e.$message.success(a)}}},[e._v(" "+e._s(a)+" ")])})),1)]},proxy:!0}])},[s("feather",{staticClass:"ml-2 cursor-pointer",attrs:{size:"20",type:"more-vertical"}})],1),s("feather",{staticClass:"ml-2 cursor-pointer",attrs:{size:"21",type:"x"},on:{click:e.onCloseDrawer}})],1)])]},proxy:!0}])},[s("div",{staticClass:"sec"},[s("h4",{staticClass:"sec__title"},[e._v("标题信息")]),s("a-textarea",{attrs:{placeholder:"请输入标题信息","auto-size":{minRows:2,maxRows:6}},model:{value:e.currFile.title,callback:function(t){e.$set(e.currFile,"title",t)},expression:"currFile.title"}})],1),s("div",{staticClass:"sec"},[s("h4",{staticClass:"sec__title"},[e._v("任务周期")]),s("a-range-picker",{staticClass:"w-full",model:{value:e.currFile.date,callback:function(t){e.$set(e.currFile,"date",t)},expression:"currFile.date"}})],1),s("div",{staticClass:"sec"},[s("h4",{staticClass:"sec__title"},[e._v("任务标签")]),s("a-select",{staticClass:"w-full text-base",attrs:{mode:"tags",size:"large",placeholder:"请选择任务标签（可选）"},model:{value:e.currFile.tag,callback:function(t){e.$set(e.currFile,"tag",t)},expression:"currFile.tag"}},e._l([{id:"1",label:"前端开发"},{id:"2",label:"后端开发"},{id:"3",label:"UI 设计"},{id:"4",label:"架构设计"}],(function(t){var i=t.id,a=t.label;return s("a-select-option",{key:i},[e._v(" "+e._s(a)+" ")])})),1)],1),s("div",{staticClass:"absolute right-0 bottom-0 mr-3 mb-3"},[s("a-button",{attrs:{type:"primary"},on:{click:e.onCloseDrawer}},[e._v(" "+e._s(e.currFile.title?"完成编辑":"创建任务")+" ")])],1)])}),[],!1,null,"16f007b1",null).exports),u={name:"FileList",data:function(){return{searchInputText:"搜索文件...",tags:{1:{text:"项目",color:"primary"},2:{text:"需求",color:"success"},3:{text:"迭代",color:"warning"},4:{text:"缺陷",color:"danger"}},fileList:[{name:"项目简介",end:"ppt",url:"",uploadTime:"2021年3月1日 20:39",source:"task"},{name:"需求分析",end:"doc",url:"",uploadTime:"2021年3月1日 20:39",source:"task"},{name:"接口文档",end:"xls",url:"",uploadTime:"2021年3月1日 20:39",source:"bug"},{name:"需求规约",end:"zip",url:"",uploadTime:"2021年3月1日 20:39",source:"task"},{name:"UI设计",end:"jpg",url:"",source:"bug",uploadTime:"2021年3月1日 20:39"},{name:"缺陷截图",end:"md",url:"",source:"bug",uploadTime:"2021年3月1日 20:39"},{name:"任务说明",end:"txt",url:"",source:"task",uploadTime:"2021年3月1日 20:39"}],fileIcon:[{end:"ppt",icon:"file-ppt",color:"#ff5b5c"},{end:"pptx",icon:"file-ppt",color:"#ff5b5c"},{end:"pdf",icon:"file-pdf",color:"#ff5b5c"},{end:"doc",icon:"file-word",color:"#6485ff"},{end:"docx",icon:"file-word",color:"#6485ff"},{end:"xls",icon:"file-excel",color:"#2bbf3d"},{end:"csv",icon:"file-excel",color:"#2bbf3d"},{end:"txt",icon:"file-text",color:"#adafb2"},{end:"rar",icon:"file-zip",color:"#b27c8a"},{end:"zip",icon:"file-zip",color:"#b27c8a"},{end:"md",icon:"file-markdown",color:"#ad99e5"},{end:"jpeg",icon:"file-image",color:"#eb2f96"},{end:"png",icon:"file-image",color:"#eb2f96"},{end:"jpg",icon:"file-image",color:"#eb2f96"}]}},computed:{},methods:{donwloadFile:function(e){},matchFileIcon:function(e){for(var t=0;t<this.fileIcon.length;t+=1)if(e===this.fileIcon[t].end)return this.fileIcon[t].icon;return"file-text"},matchFileColor:function(e){for(var t=0;t<this.fileIcon.length;t+=1)if(e===this.fileIcon[t].end)return this.fileIcon[t].color;return"#000"}}},d=(s("79ed"),{name:"File",components:{FileBar:l,FileList:Object(a.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"relative"},[s("div",[s("a-input",{staticClass:"search-input",attrs:{size:"large",placeholder:e.searchInputText},on:{focus:function(t){e.searchInputText="请输入文件关键字..."},blur:function(t){e.searchInputText="搜索文件..."}},scopedSlots:e._u([{key:"prefix",fn:function(){return[s("feather",{attrs:{size:"20",type:"search"}})]},proxy:!0}])})],1),s("perfect-scrollbar",{staticClass:"team-list",attrs:{options:{maxScrollbarLength:160,wheelSpeed:.6}}},[s("a-list",{staticClass:"demo-loadmore-list",attrs:{"item-layout":"horizontal","data-source":e.fileList},scopedSlots:e._u([{key:"renderItem",fn:function(t){return s("a-list-item",{staticClass:"member-item"},[s("a",{staticClass:"ml-1 mr-2",attrs:{slot:"actions"},slot:"actions"},[s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[e._v(" 重命名文件 ")]),s("feather",{attrs:{size:"20",type:"edit"}})],2)],1),s("a",{staticClass:"ml-1 mr-2",attrs:{slot:"actions"},slot:"actions"},[s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[e._v(" 删除文件 ")]),s("a-popconfirm",{attrs:{placement:"topRight",title:"确定删除该文件？"}},[s("feather",{attrs:{size:"20",type:"trash"}})],1)],2)],1),s("a-list-item-meta",[s("a",{attrs:{slot:"title"},on:{click:function(s){return e.donwloadFile(t)}},slot:"title"},[s("div",{staticClass:"float-left mt-1"},[s("a-icon",{style:{marginLeft:"20px",marginRight:"10px",fontSize:"32px"},attrs:{type:e.matchFileIcon(t.end),theme:"twoTone","two-tone-color":e.matchFileColor(t.end)}})],1),s("div",{staticClass:"float-left"},[s("div",{staticClass:"text-base"},[e._v(e._s(t.name)+"."+e._s(t.end))]),s("div",{staticClass:"text-sm",staticStyle:{color:"#bdc0c9"}},[e._v("上传时间："+e._s(t.uploadTime))])])])]),s("div",[s("div",{staticClass:"ml-2 px-2 py-1 rounded-lg text-sm",class:["task"===t.source?"primary":"danger","bg-"+("task"===t.source?"primary":"danger")+"-light"]},[e._v(" "+e._s("task"===t.source?"需求":"缺陷")+" ")])])],1)}}])})],1)],1)}),[],!1,null,"3be0e353",null).exports,FileDrawer:o}}),f=(s("f091"),Object(a.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-app"},[t("div",{staticClass:"left"},[t("file-bar",{staticClass:"h-full"})],1),t("div",{staticClass:"right"},[t("file-list",{staticClass:"h-full"})],1),t("file-drawer")],1)}),[],!1,null,"e744df58",null));t.default=f.exports},eef9:function(e,t,s){},f091:function(e,t,s){"use strict";s("3f4c")}}]);